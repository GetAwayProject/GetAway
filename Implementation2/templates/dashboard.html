
<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Getaway</title>

   
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css">

    <link href="http://getbootstrap.com/examples/jumbotron-narrow/jumbotron-narrow.css" rel="stylesheet">
    
    <script src="../static/js/jquery-1.11.2.js"></script>

	
	
	    
        <script>
		$(function(){
			    $.ajax({
        			url: '/getAllWishes',
				type: 'GET',
			        success:function(response) {
					console.log(response);
					var data = JSON.parse(response);
					var itemsPerRow = 0;
					var div = $('<div>').attr('class','row');
					for(var i=0;i<data.length;i++){
						
					    
						if(itemsPerRow<3){
							console.log(i);
							if(i==data.length-1){
								div.append(CreateThumb(data[i].Id,data[i].Title,data[i].Country,data[i].Description,data[i].FilePath,data[i].Tag));
								$('.well').append(div);
							}
							else{
							div.append(CreateThumb(data[i].Id,data[i].Title,data[i].Country,data[i].Description,data[i].FilePath,data[i].Tag));
							itemsPerRow++;
							}
						}
						else{
							$('.well').append(div);
							div = $('<div>').attr('class','row');
							div.append(CreateThumb(data[i].Id,data[i].Title,data[i].Country,data[i].Description,data[i].FilePath,data[i].Tag));
							if(i==data.length-1){
								$('.well').append(div);
							}
							itemsPerRow = 0;
						}
					}
					
			        },
			        error:function(error){
			        	console.log(error);
			        }
    			});

		})
		function CreateThumb(id,title,country,desc,filepath,tag){
			var mainDiv = $('<div>').attr('class','col-sm-4 col-md-4');
			var thumbNail = $('<div>').attr('class','thumbnail');
			var img = $('<img>').attr({'src':filepath,'data-holder-rendered':true,'style':'height: 150px; width: 150px; display: block'});
           
			var caption = $('<div>').attr('class','caption');
			var title = $('<h3>').text(title);
            var country = $('<p>').text(country);
			var desc = $('<p>').text(desc);
            var tag = $('<p>').text(tag);

			var p = $('<p>');
			var btn = $('<button>').attr({'id':'btn_'+id,'type':'button','class':'btn btn-danger btn-sm'});

			
			
			caption.append(title);
            caption.append(country);
			caption.append(desc);
			caption.append(p);
            
            
			thumbNail.append(img);
			thumbNail.append(caption);
			mainDiv.append(thumbNail);
            caption.append(tag);
			return mainDiv;

			
		}
	</script>

    <style>
	.btn-file {
    position: relative;
    overflow: hidden;
}
.btn-file input[type=file] {
    position: absolute;
    top: 0;
    right: 0;
    min-width: 100%;
    min-height: 100%;
    font-size: 100px;
    text-align: right;
    filter: alpha(opacity=0);
    opacity: 0;
    outline: none;
    background: white;
    cursor: inherit;
    display: block;
}
    </style>
   
  </head>

  <body>

   <div class="container">
<div class="header">
        <nav>
          <ul class="nav nav-pills pull-right">
            <li role="presentation"><a href="/">Hem</a></li>
            <li role="presentation"><a href="/add">Lägg till</a></li>
 	    <li role="presentation" class="active"><a href="/dashboard">Se</a></li>
              <li role="presentation"><a href="/admin">Mina sidor</a></li>
          </ul>
        </nav>
        <h3 class="text-muted">Getaway</h3>
      </div>


    

<div class="well">

</div>
    

      <footer class="footer">
        <p>&copy; Company 2015</p>
      </footer>

    </div>
  </body>
</html>



<!--

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Getaway</title>
    <link href="../static/css/addWish.css" rel="stylesheet">

    
    <link href=
    "https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css"
    rel="stylesheet">
    <link href=
    "http://getbootstrap.com/examples/jumbotron-narrow/jumbotron-narrow.css"
    rel="stylesheet">

    
    <script src=
    "http://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js" type=
    "text/javascript">
    </script>
    <script src="../static/js/jquery-1.11.2.js">
    </script>
    <script src="../static/js/jquery.ui.widget.js">
    </script>
    <script src="../static/js/jquery.fileupload.js" type="text/javascript">
    </script>
    <script src="../static/js/jquery.fileupload-process.js" type=
    "text/javascript">
    </script>
    <script src="../static/js/jquery.fileupload-ui.js" type="text/javascript">
    </script>
    <script src=
    "http://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.0.3/js/bootstrap.min.js"
    type="text/javascript">
    </script>
    <script src=
    "http://cdn.rawgit.com/davidstutz/bootstrap-multiselect/master/dist/js/bootstrap-multiselect.js"
    type="text/javascript">
    </script>
    <script>
                $(function () {
            $('.lstFruits').multiselect({
                includeSelectAllOption: true
            });
        });
        $(function(){
                $('#fileupload').fileupload({
                    url: 'upload',
                    dataType: 'json',
                    add: function (e, data) {
                        data.submit();
                    },
                    success:function(response,status) {
                    console.log(response.filename);
                    var filePath = 'static/Uploads/' + response.filename;
                    $('#imgUpload').attr('src',filePath);
                    $('#filePath').val(filePath);
                        console.log('success');
                    },
                    error:function(error){
                        console.log(error);
                    }
                });
        })
    </script>
</head>
<body>
    <header>
        <h3 id="logotyp">Getaway</h3>
        <a href="/" id="signOut" class="a-link">Sign out</a>
    </header>
    <nav>
        <ul id="nav">
            <li>
                <a href="/add" class="a-link up"><div class="nav"><p>Add location</p></div></a>
            </li>
            <li>
                <a href="/dashboard" class="a-link"><div class="nav"><p>All locations</p></div></a>
            </li>
            <li>
                <a href="/admin" class="a-link"><div class="nav"><p>Admin settings</p></div></a>
            </li>
            <li>
                <a href="/admin" class="a-link"><div class="nav"><p>Google Analytics</p></div></a>
            </li>
        </ul>
    </nav>
    
    <content>
<div class="content">
    <form action="/addWish" method="post">
        -->
        
        <!-- Text input
        <div class="left-group">
            <label for="txtTitle">City</label> <input class=
            "form-control input-md" id="txtTitle" name="inputTitle"
            placeholder="ex. Malmö" required="required" type="text">
        </div>
        
        
        <div class="left-group">
            <label for="country">Country</label> <input class=
            "form-control input-md" id="country" name="inputCountry"
            placeholder="ex. Sverige" required="required" type="text">
        </div>
        
        
         Textarea 
        <div class="left-group">
            <label for="txtPost">Discription</label> 
            <textarea class="form-control" id="txtPost" name="inputDescription"
            placeholder="Text" required="required"></textarea>
        </div>
        
        
</div>
    

<div class="content">   
    
    
        <div class="criteria-group">
            <label for="txtPost">Tags</label><br>
            <select class="lstFruits" multiple="multiple" name="inputTag">
                <option value="Stad">a city</option>
                <option value="Natur">the wilderness</option>
                <option value="Strand">the beach</option>
                <option value="Nattliv">the nightlife</option>
                <option value="Alpint">the ski slopes</option>
            </select>
        </div>
    
    
        <div class="criteria-group">
            <label for="txtPost">Continent</label><br>
            <select class="lstFruits" multiple="multiple" name="inputTag">
                <option value="Europa">Europe</option>
                <option value="Afrika">Africa</option>
                <option value="Asien">Asia</option>
                <option value="Nordamerika">North America</option>
                <option value="Sydamerika">South America</option>
                <option value="Oceanien">Oceania</option>
            </select>
        </div>
    
    
    
        <div class="criteria-group">
            <label for="txtPost">Month</label><br>
            <select class="lstFruits" multiple="multiple" name="inputTag">
                <option value="Januari">January</option>
                <option value="Februari">February</option>
                <option value="Mars">March</option>
                <option value="April">April</option>
                <option value="Maj">May</option>
                <option value="Juni">June</option>
                <option value="Juli">July</option>
                <option value="Augusti">August</option>
                <option value="September">September</option>
                <option value="Oktober">Oktober</option>
                <option value="November">November</option>
                <option value="December">December</option>
            </select>
        </div>
    
        <div class="right-group">
            <label for="txtPost">Image</label><br>
            <span class="btn btn-default btn-file">
                Choose image <input type="file" id="fileupload" name="file">
            </span>
        </div>
    
    
        <div class="right-group" id="viewImage">
            <img id="imgUpload" class="img-thumbnail">
            <input type="hidden" name="filePath" id="filePath"></input>
        </div>
    
</div>            
            
        </div> Button
        <div class="form-group">
            <hr>
            <p class="text-center"><input class="btn btn-primary" id=
            "singlebutton" name="singlebutton" type="submit" value=
            "Publish"></p>
        </div>
    </form>
        
        </content>
    
</body>
</html>

-->